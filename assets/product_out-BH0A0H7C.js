
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as x,r as P,O as S,D as B,z as U,a as s,o as T,k as $,e as a,w as n,g,E as c,P as E,x as I}from"./index-6nv6P-ZS.js";const L={class:"container"},O=x({__name:"product_out",setup(A){const f=[{productNumber:"P001",name:"产品一",grade:"A",origin:"中国",costPrice:100,packaging:"盒",quantity:50},{productNumber:"P002",name:"产品二",grade:"B",origin:"美国",costPrice:200,packaging:"袋",quantity:30},{productNumber:"P003",name:"产品三",grade:"A",origin:"日本",costPrice:300,packaging:"瓶",quantity:40},{productNumber:"P004",name:"产品四",grade:"C",origin:"德国",costPrice:400,packaging:"盒",quantity:60},{productNumber:"P005",name:"产品五",grade:"A",origin:"法国",costPrice:500,packaging:"袋",quantity:20},{productNumber:"P006",name:"产品六",grade:"B",origin:"英国",costPrice:600,packaging:"瓶",quantity:70},{productNumber:"P007",name:"产品七",grade:"C",origin:"意大利",costPrice:700,packaging:"盒",quantity:10},{productNumber:"P008",name:"产品八",grade:"A",origin:"西班牙",costPrice:800,packaging:"袋",quantity:80},{productNumber:"P009",name:"产品九",grade:"B",origin:"澳大利亚",costPrice:900,packaging:"瓶",quantity:90},{productNumber:"P010",name:"产品十",grade:"C",origin:"加拿大",costPrice:1e3,packaging:"盒",quantity:100}],r=P([...f]),t=S({productNumber:"",name:"",grade:"",origin:"",costPrice:0,packaging:"",quantity:0}),m=P(""),k=B(()=>m.value?r.value.filter(o=>o.name.toLowerCase().includes(m.value.toLowerCase())||o.productNumber.toLowerCase().includes(m.value.toLowerCase())):r.value);U(()=>{const o=localStorage.getItem("productsData");o?r.value=JSON.parse(o):localStorage.setItem("productsData",JSON.stringify(r.value))});function b(){localStorage.setItem("productsData",JSON.stringify(r.value))}function N(){r.value=[...f],b(),c.success("数据已还原到初始状态！")}function y(){const o=localStorage.getItem("productsData");o&&(r.value=JSON.parse(o))}function V(o){const e=r.value[o];t.productNumber=e.productNumber,t.name=e.name,t.grade=e.grade,t.origin=e.origin,t.costPrice=e.costPrice,t.packaging=e.packaging,t.quantity=e.quantity}function _(o,e){E.confirm(`确定要删除产品 ${e.name} 吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{r.value.splice(o,1),b(),c.success(`产品 ${e.name} 删除成功！`)}).catch(()=>{c.info("已取消删除操作")})}function v(){const o=r.value.find(e=>e.productNumber===t.productNumber);o?(o.name=t.name,o.grade=t.grade,o.origin=t.origin,o.costPrice=t.costPrice,o.packaging=t.packaging,o.quantity=t.quantity,b(),y(),c.success("产品信息更新成功！")):c.error("产品编号无效，无法更新！")}function q(){if(r.value.find(e=>e.productNumber===t.productNumber)){c.error("产品编号已存在，无法添加！");return}r.value.push({...t,quantity:Number(t.quantity)}),b(),y(),c.success("产品添加成功！")}return(o,e)=>{const u=s("el-input"),i=s("el-table-column"),p=s("el-button"),w=s("el-table"),d=s("el-form-item"),C=s("el-form");return T(),$("div",L,[a(u,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=l=>m.value=l),placeholder:"搜索产品",class:"search-bar",clearable:""},null,8,["modelValue"]),a(w,{data:k.value,height:"400",style:{width:"100%","margin-bottom":"20px"}},{default:n(()=>[a(i,{prop:"productNumber",label:"产品编号",width:"180"}),a(i,{prop:"name",label:"产品名称",width:"180"}),a(i,{prop:"grade",label:"产品等级",width:"180"}),a(i,{prop:"origin",label:"产地",width:"180"}),a(i,{prop:"costPrice",label:"进价",width:"180"}),a(i,{prop:"packaging",label:"包装物",width:"180"}),a(i,{prop:"quantity",label:"数量",width:"180"}),a(i,{label:"操作",width:"180"},{default:n(l=>[a(p,{size:"small",type:"primary",onClick:D=>V(l.$index)},{default:n(()=>e[8]||(e[8]=[g("编辑")])),_:2},1032,["onClick"]),a(p,{size:"small",type:"danger",onClick:D=>_(l.$index,l.row)},{default:n(()=>e[9]||(e[9]=[g("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),a(C,{model:t,"label-width":"100",class:"form-container"},{default:n(()=>[a(d,{label:"产品编号"},{default:n(()=>[a(u,{modelValue:t.productNumber,"onUpdate:modelValue":e[1]||(e[1]=l=>t.productNumber=l)},null,8,["modelValue"])]),_:1}),a(d,{label:"产品名称"},{default:n(()=>[a(u,{modelValue:t.name,"onUpdate:modelValue":e[2]||(e[2]=l=>t.name=l)},null,8,["modelValue"])]),_:1}),a(d,{label:"产品等级"},{default:n(()=>[a(u,{modelValue:t.grade,"onUpdate:modelValue":e[3]||(e[3]=l=>t.grade=l)},null,8,["modelValue"])]),_:1}),a(d,{label:"产地"},{default:n(()=>[a(u,{modelValue:t.origin,"onUpdate:modelValue":e[4]||(e[4]=l=>t.origin=l)},null,8,["modelValue"])]),_:1}),a(d,{label:"进价"},{default:n(()=>[a(u,{modelValue:t.costPrice,"onUpdate:modelValue":e[5]||(e[5]=l=>t.costPrice=l),type:"number"},null,8,["modelValue"])]),_:1}),a(d,{label:"包装物"},{default:n(()=>[a(u,{modelValue:t.packaging,"onUpdate:modelValue":e[6]||(e[6]=l=>t.packaging=l)},null,8,["modelValue"])]),_:1}),a(d,{label:"数量"},{default:n(()=>[a(u,{modelValue:t.quantity,"onUpdate:modelValue":e[7]||(e[7]=l=>t.quantity=l),type:"number"},null,8,["modelValue"])]),_:1}),a(d,null,{default:n(()=>[a(p,{type:"primary",onClick:q},{default:n(()=>e[10]||(e[10]=[g(" 添加 ")])),_:1}),a(p,{type:"primary",onClick:v},{default:n(()=>e[11]||(e[11]=[g(" 更新 ")])),_:1}),a(p,{type:"warning",onClick:N},{default:n(()=>e[12]||(e[12]=[g(" 还原数据 ")])),_:1})]),_:1})]),_:1},8,["model"])])}}}),z=I(O,[["__scopeId","data-v-e22e2435"]]);export{z as default};
