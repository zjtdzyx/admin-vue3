
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as b,r as V,O as I,D,z as L,a as s,o as w,k as q,e as a,w as n,g as c,E as r,P as O,x as k}from"./index-6nv6P-ZS.js";const S={class:"container"},$=b({__name:"ProductionPlanQuery",setup(P){const f=[{plan_id:"P001",plan_name:"计划A",product_name:"产品A",product_id:"PR001",plan_type:"常规计划",planned_start_date:"2023-01-01",planned_end_date:"2023-01-10",actual_start_date:"2023-01-02",actual_end_date:"2023-01-09",planned_quantity:1e3,actual_quantity:950,unit:"件",workshop:"车间1",person_in_charge:"张三",equipment:"设备A",plan_status:"已完成",priority:"高",remarks:"无"},{plan_id:"P002",plan_name:"计划B",product_name:"产品B",product_id:"PR002",plan_type:"紧急计划",planned_start_date:"2023-02-01",planned_end_date:"2023-02-15",actual_start_date:"2023-02-02",actual_end_date:"2023-02-14",planned_quantity:2e3,actual_quantity:1800,unit:"件",workshop:"车间2",person_in_charge:"李四",equipment:"设备B",plan_status:"进行中",priority:"中",remarks:"无"},{plan_id:"P003",plan_name:"计划C",product_name:"产品C",product_id:"PR003",plan_type:"常规计划",planned_start_date:"2023-03-01",planned_end_date:"2023-03-10",actual_start_date:"2023-03-02",actual_end_date:"2023-03-09",planned_quantity:1500,actual_quantity:1400,unit:"件",workshop:"车间3",person_in_charge:"王五",equipment:"设备C",plan_status:"已完成",priority:"低",remarks:"无"},{plan_id:"P004",plan_name:"计划D",product_name:"产品D",product_id:"PR004",plan_type:"紧急计划",planned_start_date:"2023-04-01",planned_end_date:"2023-04-15",actual_start_date:"2023-04-02",actual_end_date:"2023-04-14",planned_quantity:2500,actual_quantity:2300,unit:"件",workshop:"车间4",person_in_charge:"赵六",equipment:"设备D",plan_status:"进行中",priority:"高",remarks:"无"},{plan_id:"P005",plan_name:"计划E",product_name:"产品E",product_id:"PR005",plan_type:"常规计划",planned_start_date:"2023-05-01",planned_end_date:"2023-05-10",actual_start_date:"2023-05-02",actual_end_date:"2023-05-09",planned_quantity:3e3,actual_quantity:2900,unit:"件",workshop:"车间5",person_in_charge:"孙七",equipment:"设备E",plan_status:"已完成",priority:"中",remarks:"无"},{plan_id:"P006",plan_name:"计划F",product_name:"产品F",product_id:"PR006",plan_type:"紧急计划",planned_start_date:"2023-06-01",planned_end_date:"2023-06-15",actual_start_date:"2023-06-02",actual_end_date:"2023-06-14",planned_quantity:3500,actual_quantity:3400,unit:"件",workshop:"车间6",person_in_charge:"周八",equipment:"设备F",plan_status:"进行中",priority:"低",remarks:"无"},{plan_id:"P007",plan_name:"计划G",product_name:"产品G",product_id:"PR007",plan_type:"常规计划",planned_start_date:"2023-07-01",planned_end_date:"2023-07-10",actual_start_date:"2023-07-02",actual_end_date:"2023-07-09",planned_quantity:4e3,actual_quantity:3900,unit:"件",workshop:"车间7",person_in_charge:"吴九",equipment:"设备G",plan_status:"已完成",priority:"高",remarks:"无"},{plan_id:"P008",plan_name:"计划H",product_name:"产品H",product_id:"PR008",plan_type:"紧急计划",planned_start_date:"2023-08-01",planned_end_date:"2023-08-15",actual_start_date:"2023-08-02",actual_end_date:"2023-08-14",planned_quantity:4500,actual_quantity:4400,unit:"件",workshop:"车间8",person_in_charge:"郑十",equipment:"设备H",plan_status:"进行中",priority:"中",remarks:"无"},{plan_id:"P009",plan_name:"计划I",product_name:"产品I",product_id:"PR009",plan_type:"常规计划",planned_start_date:"2023-09-01",planned_end_date:"2023-09-10",actual_start_date:"2023-09-02",actual_end_date:"2023-09-09",planned_quantity:5e3,actual_quantity:4900,unit:"件",workshop:"车间9",person_in_charge:"冯十一",equipment:"设备I",plan_status:"已完成",priority:"低",remarks:"无"},{plan_id:"P010",plan_name:"计划J",product_name:"产品J",product_id:"PR010",plan_type:"紧急计划",planned_start_date:"2023-10-01",planned_end_date:"2023-10-15",actual_start_date:"2023-10-02",actual_end_date:"2023-10-14",planned_quantity:5500,actual_quantity:5400,unit:"件",workshop:"车间10",person_in_charge:"陈十二",equipment:"设备J",plan_status:"进行中",priority:"高",remarks:"无"}],_=V([...f]),t=I({plan_id:"",plan_name:"",product_name:"",product_id:"",plan_type:"",planned_start_date:"",planned_end_date:"",actual_start_date:"",actual_end_date:"",planned_quantity:0,actual_quantity:0,unit:"",workshop:"",person_in_charge:"",equipment:"",plan_status:"",priority:"",remarks:""}),i=V(""),g=D(()=>i.value?_.value.filter(d=>d.plan_name.toLowerCase().includes(i.value.toLowerCase())||d.product_name.toLowerCase().includes(i.value.toLowerCase())||d.plan_id.toLowerCase().includes(i.value.toLowerCase())):_.value);L(()=>{const d=localStorage.getItem("productionPlans");d?_.value=JSON.parse(d):localStorage.setItem("productionPlans",JSON.stringify(_.value))});const y=()=>{localStorage.setItem("productionPlans",JSON.stringify(_.value))};function v(){_.value=[...f],y(),r.success("数据已还原到初始状态！")}function C(){try{_.value.push({...t}),y()(Object.keys(t)).forEach(d=>{typeof t[d]=="number"?t[d]=0:t[d]=""}),r.success("计划添加成功")}catch{r.error("添加计划失败")}}function U(d){const e=_.value[d];Object.assign(t,e)}function h(d,e){O.confirm(`确定要删除计划 ${e.plan_name} 吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{_.value.splice(d,1),y(),r.success(`计划 ${e.plan_name} 删除成功！`)}).catch(()=>{r.info("已取消删除操作")})}function x(){const d=_.value.find(e=>e.plan_id===t.plan_id);d?(Object.assign(d,t),y(),r.success("计划信息更新成功！")):r.error("计划编号无效，无法更新！")}return(d,e)=>{const o=s("el-input"),u=s("el-table-column"),m=s("el-button"),R=s("el-table"),p=s("el-form-item"),E=s("el-form");return w(),q("div",S,[a(o,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=l=>i.value=l),placeholder:"搜索计划",class:"search-bar",clearable:""},null,8,["modelValue"]),a(R,{data:g.value,height:"400",style:{width:"100%","margin-bottom":"20px"}},{default:n(()=>[a(u,{prop:"plan_id",label:"计划编号",width:"180"}),a(u,{prop:"plan_name",label:"计划名称",width:"180"}),a(u,{prop:"product_name",label:"产品名称",width:"180"}),a(u,{prop:"product_id",label:"产品编号",width:"180"}),a(u,{prop:"plan_type",label:"计划类型",width:"180"}),a(u,{prop:"planned_start_date",label:"计划开始日期",width:"180"}),a(u,{prop:"planned_end_date",label:"计划结束日期",width:"180"}),a(u,{prop:"actual_start_date",label:"实际开始日期",width:"180"}),a(u,{prop:"actual_end_date",label:"实际结束日期",width:"180"}),a(u,{prop:"planned_quantity",label:"计划数量",width:"180"}),a(u,{prop:"actual_quantity",label:"实际数量",width:"180"}),a(u,{prop:"unit",label:"单位",width:"180"}),a(u,{prop:"workshop",label:"车间",width:"180"}),a(u,{prop:"person_in_charge",label:"负责人",width:"180"}),a(u,{prop:"equipment",label:"设备",width:"180"}),a(u,{prop:"plan_status",label:"计划状态",width:"180"}),a(u,{prop:"priority",label:"优先级",width:"180"}),a(u,{prop:"remarks",label:"备注",width:"180"}),a(u,{label:"操作",width:"180"},{default:n(l=>[a(m,{size:"small",type:"primary",onClick:B=>U(l.$index)},{default:n(()=>e[19]||(e[19]=[c("编辑")])),_:2},1032,["onClick"]),a(m,{size:"small",type:"danger",onClick:B=>h(l.$index,l.row)},{default:n(()=>e[20]||(e[20]=[c("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),a(E,{model:t,"label-width":"100",class:"form-container"},{default:n(()=>[a(p,{label:"计划编号"},{default:n(()=>[a(o,{modelValue:t.plan_id,"onUpdate:modelValue":e[1]||(e[1]=l=>t.plan_id=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"计划名称"},{default:n(()=>[a(o,{modelValue:t.plan_name,"onUpdate:modelValue":e[2]||(e[2]=l=>t.plan_name=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"产品名称"},{default:n(()=>[a(o,{modelValue:t.product_name,"onUpdate:modelValue":e[3]||(e[3]=l=>t.product_name=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"产品编号"},{default:n(()=>[a(o,{modelValue:t.product_id,"onUpdate:modelValue":e[4]||(e[4]=l=>t.product_id=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"计划类型"},{default:n(()=>[a(o,{modelValue:t.plan_type,"onUpdate:modelValue":e[5]||(e[5]=l=>t.plan_type=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"计划开始日期"},{default:n(()=>[a(o,{modelValue:t.planned_start_date,"onUpdate:modelValue":e[6]||(e[6]=l=>t.planned_start_date=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"计划结束日期"},{default:n(()=>[a(o,{modelValue:t.planned_end_date,"onUpdate:modelValue":e[7]||(e[7]=l=>t.planned_end_date=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"实际开始日期"},{default:n(()=>[a(o,{modelValue:t.actual_start_date,"onUpdate:modelValue":e[8]||(e[8]=l=>t.actual_start_date=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"实际结束日期"},{default:n(()=>[a(o,{modelValue:t.actual_end_date,"onUpdate:modelValue":e[9]||(e[9]=l=>t.actual_end_date=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"计划数量"},{default:n(()=>[a(o,{modelValue:t.planned_quantity,"onUpdate:modelValue":e[10]||(e[10]=l=>t.planned_quantity=l),type:"number"},null,8,["modelValue"])]),_:1}),a(p,{label:"实际数量"},{default:n(()=>[a(o,{modelValue:t.actual_quantity,"onUpdate:modelValue":e[11]||(e[11]=l=>t.actual_quantity=l),type:"number"},null,8,["modelValue"])]),_:1}),a(p,{label:"单位"},{default:n(()=>[a(o,{modelValue:t.unit,"onUpdate:modelValue":e[12]||(e[12]=l=>t.unit=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"车间"},{default:n(()=>[a(o,{modelValue:t.workshop,"onUpdate:modelValue":e[13]||(e[13]=l=>t.workshop=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"负责人"},{default:n(()=>[a(o,{modelValue:t.person_in_charge,"onUpdate:modelValue":e[14]||(e[14]=l=>t.person_in_charge=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"设备"},{default:n(()=>[a(o,{modelValue:t.equipment,"onUpdate:modelValue":e[15]||(e[15]=l=>t.equipment=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"计划状态"},{default:n(()=>[a(o,{modelValue:t.plan_status,"onUpdate:modelValue":e[16]||(e[16]=l=>t.plan_status=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"优先级"},{default:n(()=>[a(o,{modelValue:t.priority,"onUpdate:modelValue":e[17]||(e[17]=l=>t.priority=l)},null,8,["modelValue"])]),_:1}),a(p,{label:"备注"},{default:n(()=>[a(o,{modelValue:t.remarks,"onUpdate:modelValue":e[18]||(e[18]=l=>t.remarks=l)},null,8,["modelValue"])]),_:1}),a(p,null,{default:n(()=>[a(m,{type:"primary",onClick:C},{default:n(()=>e[21]||(e[21]=[c(" 添加 ")])),_:1}),a(m,{type:"primary",onClick:x},{default:n(()=>e[22]||(e[22]=[c(" 更新 ")])),_:1}),a(m,{type:"warning",onClick:v},{default:n(()=>e[23]||(e[23]=[c(" 还原数据 ")])),_:1})]),_:1})]),_:1},8,["model"])])}}}),J=k($,[["__scopeId","data-v-2717d55f"]]),N=b({name:"ProductionPlanQueryView",__name:"production_plan_query",setup(P){return(f,_)=>(w(),q("div",null,[a(J)]))}}),H=k(N,[["__scopeId","data-v-df729486"]]);export{H as default};
